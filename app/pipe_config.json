{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "pipe_config.json",
    "title": "pipe config",
    "description": "configuration",
    "definitions": {
        "pipebase": {
            "enum": [
                "InMemoryBagCollectorConfig",
                "InMemorySetCollectorConfig",
                "InMemoryWindowCollectorConfig",
                "TextCollectorConfig",
                "ContextPrinterConfig",
                "PipeErrorPrinterConfig",
                "PrinterConfig",
                "LocalFilePathVisitorConfig",
                "AddAggregatorConfig",
                "ConversionConfig",
                "EchoConfig",
                "FieldVisitConfig",
                "FileReaderConfig",
                "FileWriterConfig",
                "FilterMapConfig",
                "OrderedGroupAddAggregatorConfig",
                "ProjectionConfig",
                "StringSplitterConfig",
                "TopAggregatorConfig",
                "UnorderedGroupAddAggregatorConfig"
            ]
        },
        "pipeware": {
            "enum": [
                "AvroSerConfig",
                "AvroDeserConfig",
                "WarpIngestionServerConfig",
                "KubeLogReaderConfig",
                "KubeEventReaderConfig",
                "RedisSubscriberConfig",
                "SqsMessageReceiverConfig",
                "JsonSerConfig",
                "JsonDeserConfig",
                "JsonRecordSerConfig",
                "CsvSerConfig",
                "CsvDeserConfig",
                "RedisUnorderedGroupAddAggregatorConfig",
                "RocksDBUnorderedGroupAddAggregatorConfig",
                "ReqwestGetterConfig",
                "ReqwestPosterConfig",
                "ReqwestQueryConfig",
                "CqlWriterConfig",
                "CqlPreparedWriterConfig",
                "PsqlWriterConfig",
                "PsqlPreparedWriterConfig",
                "RedisStringWriterConfig",
                "RedisStringBatchWriterConfig",
                "RedisPublisherConfig",
                "KafkaConsumerConfig",
                "KafkaProducerConfig",
                "KafkaPartitionedProducerConfig",
                "S3WriterConfig",
                "MySQLWriterConfig",
                "MySQLPreparedWriterConfig",
                "DynamoDBWriterConfig",
                "SnsPublisherConfig",
                "MqttPublisherConfig",
                "MqttSubscriberConfig"
            ]
        }
    },
    "type": "object",
    "properties": {
        "ty": {
            "description": "config type",
            "anyOf": [
                {
                    "$ref": "#/definitions/pipebase"
                },
                {
                    "$ref": "#/definitions/pipeware"
                },
                {
                    "type": "string"
                }
            ]
        },
        "path": {
            "description": "pipe config file path",
            "type": "string"
        }
    },
    "required": [ "ty" ],
    "additionalProperties": false
}